<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Movie - M0viEsHUB Admin</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-900 text-white min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto bg-gray-800 rounded-lg shadow-lg p-8">
            <h1 class="text-3xl font-bold text-red-500 mb-8">ðŸŽ¬ Add New Movie</h1>
            <form id="movieForm" action="/admin/add?admin=8892" method="POST" class="space-y-6">

                <!-- Title -->
                <div>
                    <label for="title" class="block text-sm font-medium mb-2">Movie Title *</label>
                    <input type="text" id="title" name="title" required class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="Enter movie title">
                </div>

                <!-- Year -->
                <div>
                    <label for="year" class="block text-sm font-medium mb-2">Year *</label>
                    <input type="number" id="year" name="year" required class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md" min="1900" max="2030">
                </div>

                <!-- Views and Downloads -->
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label for="views" class="block text-sm font-medium mb-2">Views</label>
                        <input type="number" id="views" name="views" value="0" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md" min="0">
                    </div>
                    <div>
                        <label for="downloads" class="block text-sm font-medium mb-2">Downloads</label>
                        <input type="number" id="downloads" name="downloads" value="0" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md" min="0">
                    </div>
                </div>

                <!-- Description -->
                <div>
                    <label for="description" class="block text-sm font-medium mb-2">Description *</label>
                    <textarea id="description" name="description" maxlength="2000" required rows="4" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="Enter movie description"></textarea>
                </div>

                <!-- Cast -->
                <div>
                    <label for="cast" class="block text-sm font-medium mb-2">Cast (comma-separated)</label>
                    <input type="text" id="cast" name="cast" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md" placeholder="Actor 1, Actor 2, Actor 3">
                </div>

                <!-- Genre -->
                <div>
                    <label class="block text-sm font-medium mb-2">Genre *</label>
                    <div class="grid grid-cols-4 gap-2">
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Web Series" class="mr-2"> Web Series
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="South Hindi Dubbed" class="mr-2"> South Hindi Dubbed
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Bollywood" class="mr-2"> Bollywood
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Hollywood Hindi" class="mr-2"> Hollywood Hindi
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Action" class="mr-2"> Action
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Adventure" class="mr-2"> Adventure
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Comedy" class="mr-2"> Comedy
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Drama" class="mr-2"> Drama
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Horror" class="mr-2"> Horror
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Romance" class="mr-2"> Romance
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Sci-Fi" class="mr-2"> Sci-Fi
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Thriller" class="mr-2"> Thriller
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Documentary" class="mr-2"> Documentary
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Animation" class="mr-2"> Animation
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Fantasy" class="mr-2"> Fantasy
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Crime" class="mr-2"> Crime
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Mystery" class="mr-2"> Mystery
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="War" class="mr-2"> War
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Western" class="mr-2"> Western
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Musical" class="mr-2"> Musical
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Biography" class="mr-2"> Biography
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Family" class="mr-2"> Family
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="Sport" class="mr-2"> Sport
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="genre" value="History" class="mr-2"> History
                        </label>
                    </div>
                </div>

                <!-- Language -->
                <div>
                    <label for="movieLanguage" class="block text-sm font-medium mb-2">Movie Language *</label>
                    <select id="movieLanguage" name="movieLanguage" required class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md">
                        <option value="">Select Language</option>
                        <option value="English">English</option>
                        <option value="Hindi">Hindi</option>
                        <option value="Spanish">Spanish</option>
                        <option value="French">French</option>
                        <option value="German">German</option>
                        <option value="Italian">Italian</option>
                        <option value="Japanese">Japanese</option>
                        <option value="Korean">Korean</option>
                        <option value="Chinese">Chinese</option>
                        <option value="Russian">Russian</option>
                        <option value="Arabic">Arabic</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <!-- Quality -->
                <div>
                    <label class="block text-sm font-medium mb-2">Available Qualities *</label>
                    <div class="flex flex-wrap gap-4">
                        <label class="flex items-center">
                            <input type="checkbox" name="quality" value="480p" class="mr-2"> 480p
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="quality" value="720p" class="mr-2"> 720p
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="quality" value="1080p" class="mr-2"> 1080p
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="quality" value="4K" class="mr-2"> 4K
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" name="quality" value="HDR" class="mr-2"> HDR
                        </label>
                    </div>
                </div>

                <!-- Poster -->
                <div>
                    <label for="poster" class="block text-sm font-medium mb-2">Poster URL *</label>
                    <input type="url" id="poster" name="poster" required class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md" placeholder="https://example.com/poster.jpg">
                </div>

                <!-- Screenshots -->
                <div>
                    <label class="block text-sm font-medium mb-2">Screenshots * (at least 3)</label>
                    <div id="screenshotsContainer" class="space-y-2">
                        <input type="url" name="screenshots" placeholder="Screenshot 1 URL" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md" required>
                        <input type="url" name="screenshots" placeholder="Screenshot 2 URL" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md" required>
                        <input type="url" name="screenshots" placeholder="Screenshot 3 URL" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md" required>
                    </div>
                    <button type="button" id="addScreenshot" class="text-blue-400 hover:text-blue-300 mt-2">+ Add More Screenshots</button>
                </div>

                <!-- Download Links -->
                <div>
                    <h3 class="text-lg font-semibold mb-4">Download Links</h3>
                    <div class="mb-3">
                        <label class="block text-sm font-medium mb-1">480p Download Link</label>
                        <input type="url" name="qualityLinks[480p]" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md" placeholder="https://example.com/480p-download">
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium mb-1">720p Download Link</label>
                        <input type="url" name="qualityLinks[720p]" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md" placeholder="https://example.com/720p-download">
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium mb-1">1080p Download Link</label>
                        <input type="url" name="qualityLinks[1080p]" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md" placeholder="https://example.com/1080p-download">
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium mb-1">4K Download Link</label>
                        <input type="url" name="qualityLinks[4K]" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md" placeholder="https://example.com/4k-download">
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium mb-1">HDR Download Link</label>
                        <input type="url" name="qualityLinks[HDR]" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md" placeholder="https://example.com/hdr-download">
                    </div>
                </div>

                <!-- Buttons -->
                <div class="flex justify-end space-x-4">
                    <a href="/?admin=8892" class="px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700">Cancel</a>
                    <button type="submit" class="px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700">Add Movie</button>
                </div>
            </form>
        </div>
    </div>

    <!-- JS -->
    <script>
        // Add screenshot functionality
        document.getElementById('addScreenshot').addEventListener('click', function() {
            const container = document.getElementById('screenshotsContainer');
            const input = document.createElement('input');
            input.type = 'url';
            input.name = 'screenshots';
            input.placeholder = 'Screenshot URL';
            input.className = 'w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md';
            container.appendChild(input);
        });

        // Enhanced form validation
        document.getElementById('movieForm').addEventListener('submit', function(e) {
            const genres = document.querySelectorAll('input[name="genre"]:checked');
            const qualities = document.querySelectorAll('input[name="quality"]:checked');
            const screenshots = document.querySelectorAll('input[name="screenshots"]');
            const movieLanguage = document.getElementById('movieLanguage').value;
            const title = document.getElementById('title').value.trim();
            const description = document.getElementById('description').value.trim();
            const poster = document.getElementById('poster').value.trim();

            let validScreens = 0;
            screenshots.forEach(ss => {
                if (ss.value.trim()) validScreens++;
            });

            // Validation checks
            if (!title) {
                alert("Please enter movie title.");
                e.preventDefault();
                return;
            }

            if (!description || description.length < 10) {
                alert("Please enter a description with at least 10 characters.");
                e.preventDefault();
                return;
            }

            if (!poster) {
                alert("Please enter poster URL.");
                e.preventDefault();
                return;
            }

            if (!movieLanguage) {
                alert("Please select movie language.");
                e.preventDefault();
                return;
            }

            if (genres.length === 0) {
                alert("Please select at least one genre.");
                e.preventDefault();
                return;
            }

            if (qualities.length === 0) {
                alert("Please select at least one quality.");
                e.preventDefault();
                return;
            }

            if (validScreens < 3) {
                alert("Please provide at least 3 screenshot URLs.");
                e.preventDefault();
                return;
            }

            // Show loading state
            const submitBtn = this.querySelector('button[type="submit"]');
            submitBtn.textContent = 'Adding Movie...';
            submitBtn.disabled = true;
        });
    </script>
</body>

</html>